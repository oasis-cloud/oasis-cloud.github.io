<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>GitHub Actions 入门</title>
        <link rel="stylesheet" href="../../assets/fonts.css">
        <link rel="stylesheet" href="../../assets/graphite.css">
        <link rel="stylesheet" href="../../assets/pygments.css">
        <script src="../../assets/image-zoom.js" defer></script>
        
        
    </head>
    <body class="node-articles-github-2 node-articles-github node-articles node">
        <header class="masthead">
            <h1><a href="../../index.html">Oasis's Cloud</a></h1>
            
                <p class="tagline">一个人的首要责任，就是要有雄心。雄心是一种高尚的激情，它可以采取多种合理的形式。<br />—— 《一个数学家的辩白》</p>
            
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">✕</span>
                    <span class="icon open-icon">☰</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li><a href="../../index.html">首页</a></li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>GitHub Actions 入门</h1>
                
                
                    <p class="author">作者：oasis</p>
                
                <hr>
            </header>
            <h2>GitHub Actions 介绍</h2>
<p>GitHub Actions 是 GitHub 提供的一项功能，可以用来在 GitHub 上创建、测试、部署应用程序。它是一个自动化工作流程平台，可以通过触发事件来执行一系列操作，例如自动化测试，打包构建等。</p>
<p>GitHub Actions 有几个核心的概念：</p>
<ol>
<li>Workflows（工作流）：CI/CD 从开始到结束这个周期可以理解为一个工作流。工作流可以通过 yml 脚本配置，并且一个工作流可以包含一个 Job 或 多个 Job。</li>
<li>Events（事件）：触发 Workflows 的特定操作，例如：PR 创建，代码 Push 等。</li>
<li>Jobs（任务）：一个 Job 由一系列的步骤组成，其中每个步骤可以标注步骤名称，执行的脚本等。</li>
<li>Actions（动作）：每个步骤可以执行的处理，可以是一个或多个。</li>
<li>Runners（执行器）：workflows 运行的容器。</li>
</ol>
<h2>创建 GitHub Actions</h2>
<p>在仓库中创建 <code>.github/workflows</code> 文件。</p>
<p>在 <code>.github/workflows</code> 目录中，创建 <code>test.yml</code>，这里只是举例，文件可以定义其他名字。</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span><span class="w"> </span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo something</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo &#39;Hello World&#39;</span><span class="w">    </span>
</code></pre></div>
<p>这段代码创建了一个名为 test 的工作流，当对 main 分支进行 push 的时候会触发此工作流的执行。工作流中有一个名为 test 的 Job，运行在 ubuntn 容器中，输出 <code>Hello World</code>。(<a href="https://docs.github.com/zh/actions/using-workflows/workflow-syntax-for-github-actions">更多语法可参考这里</a>)</p>
        </article>
        
        <script src="https://giscus.app/client.js"
                data-repo="oasis-cloud/blog-comments"
                data-repo-id="R_kgDOKEliHA"
                data-category="General"
                data-category-id="DIC_kwDOKEliHM4CYb6e"
                data-mapping="pathname"
                data-strict="0"
                data-reactions-enabled="1"
                data-emit-metadata="0"
                data-input-position="bottom"
                data-theme="preferred_color_scheme"
                data-lang="zh-CN"
                crossorigin="anonymous"
                async>
        </script>
    </body>
</html>
