<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>å¼‚æ­¥ç¼–ç¨‹</title>
        <link rel="stylesheet" href="../../assets/fonts.css">
        <link rel="stylesheet" href="../../assets/graphite.css">
        <link rel="stylesheet" href="../../assets/pygments.css">
        
        
    </head>
    <body class="node-articles-software-design-2 node-articles-software-design node-articles node">
        <header class="masthead">
            <h1><a href="../../index.html">Oasis's Cloud</a></h1>
            
                <p class="tagline">â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµâ˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµâ˜ï¸ğŸŒµ</p>
            
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">âœ•</span>
                    <span class="icon open-icon">â˜°</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li><a href="../../index.html">é¦–é¡µ</a></li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>å¼‚æ­¥ç¼–ç¨‹</h1>
                
                    <p class="subtitle">ã€Šè½¯ä»¶è®¾è®¡ã€‹é˜…è¯»ç¬”è®°ä¸€</p>
                
                <hr>
            </header>
            <h2>æ¶ˆæ¯é˜Ÿåˆ—</h2>
<p>å¼‚æ­¥ç¼–ç¨‹ä¸­çš„å›è°ƒå‡½æ•°æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œç„¶è€Œï¼Œé€šè¿‡å›è°ƒå‡½æ•°ä¼šæ¯æ‰æˆ‘ä»¬çš„ä»£ç ï¼Œå¯¼è‡´å›è°ƒåœ°ç‹±çš„å‡ºç°ã€‚ JavaScript çš„å¼€å‘äººå‘˜å‘è¯¥è¯­è¨€æ·»åŠ äº† promise å’Œ async awaitã€‚</p>
<p>JavaScript ä¸­çš„å¼‚æ­¥å®ç°æ˜¯åŸºäºäº‹ä»¶å¾ªç¯çš„ã€‚JavaScript çš„äº‹ä»¶å¾ªç¯æ¨¡å‹ä¸­æœ‰ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼ŒJavaScript ä¸æ–­çš„ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–å‡ºç­‰å¾…çš„æ¶ˆæ¯ï¼Œè¿›è¡Œæ¶ˆè´¹ã€‚</p>
<p>æœ‰äº›æ–¹æ³•å¯ä»¥æ”¹å˜æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¯”å¦‚ setTimeoutã€‚setTimeout çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥è®¾ç½®ä¸º 0ï¼Œè®¾ç½®ä¸º 0 å¹¶ä¸æ„å‘³ç€é©¬ä¸Šæ‰§è¡Œï¼Œè€Œæ˜¯è¦ç­‰åˆ°æ¶ˆæ¯é˜Ÿåˆ—å‰é¢çš„æ¶ˆæ¯å¤„ç†å®Œï¼Œæ‰èƒ½è½®åˆ°æœ‰ setTimeout æ”¾å…¥çš„æ¶ˆæ¯ã€‚æ‰€ä»¥ï¼ŒsetTimeout çš„è®¡æ—¶å™¨å¹¶ä¸å‡†ç¡®ã€‚å¤§éƒ¨åˆ†ç½‘é¡µä¸­çš„å€’è®¡æ—¶ç¨‹åºéƒ½æ˜¯ç”± setTimeout è¿›è¡Œå®ç°çš„ï¼Œåœ¨ç§’æ€å€’è®¡æ—¶çš„åœºæ™¯ä¸­ï¼Œç§’æ€å¼€å§‹æ—¶é—´ä¸º 8ç‚¹ï¼Œå½“åˆ°8ç‚¹çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬è¿˜ä¸èƒ½ç‚¹å‡»ç§’æ€æŒ‰é’®ã€‚</p>
<p>æ³¨æ„ç‚¹ï¼šweb workerã€è·¨åŸŸ iframe æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆã€å †å’Œæ¶ˆæ¯é˜Ÿåˆ—ã€‚ç›¸å½“äºä¸¤ä¸ªä¸åŒçš„è¿è¡Œæ—¶ã€‚å¦‚æœä»–ä»¬è¦é€šä¿¡ï¼Œéœ€è¦é€šè¿‡ postMessageã€‚</p>
<p>è¿™é‡Œéœ€è¦æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä½•æ—¶ä»åˆšæ¶ˆæ¯é˜Ÿåˆ—ä¸­å–æ•°æ®æ¶ˆè´¹å‘¢ï¼Ÿ</p>
<h2>setTimeout å’Œ Promise çš„åŒºåˆ«</h2>
<p>é€šè¿‡ debugger è¿›è¡Œè°ƒè¯•ã€‚è®¾è®¡ç”¨ä¾‹ã€‚</p>
<p>å¯å‚è€ƒé“¾æ¥ï¼š</p>
<ol>
<li>https://www.youtube.com/watch?v=8aGhZQkoFbQ</li>
<li>https://www.youtube.com/watch?v=cCOL7MC4Pl0</li>
</ol>
<h2>è®¾è®¡è‡ªå·±çš„ Promise</h2>
<p>å¦‚ä½•è®¾è®¡ Promiseï¼Œæˆ‘ä»¬æ—¢ç„¶è¦åš Promise çš„ demoï¼Œé‚£æˆ‘ä»¬æœ€ç»ˆäº§ç‰©çš„ä½¿ç”¨æ–¹å¼è¦å’Œ Promise æ˜¯ä¸€è‡´çš„ã€‚æ‰€ä»¥æˆ‘ä»¬è¦å…ˆæ€è€ƒæ¸…æ¥šæˆ‘ä»¬äº§ç‰©çš„ç”¨æ³•ã€‚(ps: è¿™ä½“ç°äº†ä»ä¸Šå‘ä¸‹çš„è®¾è®¡æ€è·¯ã€‚å…ˆè®¾è®¡å¤§çš„æ¡†æ¶ï¼Œå®šä¹‰å¥½ä½¿ç”¨æ–¹æ³•ï¼Œå†æƒ³åŠæ³•å®ç°ã€‚)</p>
<div class="highlight"><pre><span></span><code><span class="c1">// æˆ‘ä»¬çš„æ–‡ä»¶</span><span class="w"></span>
<span class="k">import</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./oasis-promise.js&#39;</span><span class="w"></span>
<span class="c1">// ä½¿ç”¨æ–¹å¼</span><span class="w"></span>
<span class="ow">new</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="w"> </span><span class="p">((</span><span class="nx">reslove</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;registry&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;reslove callback&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="nx">reslove</span><span class="p">(</span><span class="s1">&#39;resloved&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"></span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;then value&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">value</span><span class="w"></span>
<span class="p">})</span><span class="w"></span>
</code></pre></div>
<p>åŸºäºä¸Šè¿°è®¾è®¡ä¸­çš„ä½¿ç”¨æ–¹å¼ï¼Œæˆ‘ä»¬é¦–å…ˆè¦è€ƒè™‘é“¾å¼è°ƒç”¨å¦‚ä½•å®ç°ï¼Œå† JavaScript ä¸­ï¼Œé“¾å¼è°ƒç”¨é€šè¿‡å¯¹è±¡çš„æ–¹å¼å¯ä»¥å®ç°ã€‚å¦‚ä¸‹ä¾‹ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// oasis-promise.js</span><span class="w"></span>

<span class="kd">class</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">    </span><span class="nx">then</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>ç„¶åæˆ‘ä»¬é‚£å¯ä»¥å†™ï¼š
<div class="highlight"><pre><span></span><code><span class="ow">new</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="p">().</span><span class="nx">then</span><span class="p">()</span><span class="w"></span>
</code></pre></div></p>
<p>ç»§ç»­æ‰©å……æˆ‘ä»¬çš„ OasisPromise ç±»ã€‚ç”±å…¶ç”¨æ³•æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­éœ€è¦ä¼ ä¸€ä¸ªæ–¹å¼ï¼Œæ­¤æ–¹æ³•åŒ…å«ä¸¤ä¸ªå†…ç½®çš„å‡½æ•°ï¼ˆresloveï¼Œrejectï¼‰ä½œä¸ºå‚æ•°ã€‚æˆ‘ä»¬å…ˆæ¥å®ç°è¿™ä¸€æ­¥ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// oasis-promise.js</span><span class="w"></span>

<span class="kd">class</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nx">action</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">reslove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">reject</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">reslove</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">reject</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">then</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;then&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="ow">new</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="p">((</span><span class="nx">reslove</span><span class="p">,</span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nx">reslove</span><span class="p">(</span><span class="s1">&#39;outter&#39;</span><span class="p">)</span><span class="w"></span>
<span class="p">}).</span><span class="nx">then</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">().</span><span class="nx">then</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p>reslove è¦åšçš„äº‹æƒ…æ˜¯ç”¨æ­¤é˜¶æ®µçš„ valueï¼Œä¼ ç»™ä¸‹ä¸€ä¸ª then ä¸­çš„ handlerï¼Œæ‰€ä»¥ï¼Œåœ¨ then æ–¹æ³•è°ƒç”¨çš„æ—¶å€™è¦èƒ½å­˜ä¸‹ then æ–¹æ³•çš„ handlerï¼Œè¿™é‡Œç”¨äº† handlers æ•°ç»„ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="c1">// oasis-promise.js</span><span class="w"></span>

<span class="kd">class</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">errorHanlders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">hanlders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nx">action</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">resloveEvent</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">rejectEvent</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">resloveEvent</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">nextValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">value</span><span class="w"></span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">hanlders</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">handler</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nx">nextValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">handler</span><span class="p">(</span><span class="nx">nextValue</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">})</span><span class="w">  </span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">hanlders</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="w"></span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">rejectEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">rejectEvent</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">errorHandlers</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="nx">then</span><span class="p">(</span><span class="nx">thenHandler</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">hanlders</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">thenHandler</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">errorHandlers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">err</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>åœ¨ä¸Šé¢è¿™æ®µä»£ç çš„æµ‹è¯• demo å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Hi Oasis</span><span class="w"></span>
<span class="ow">new</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="p">((</span><span class="nx">reslove</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nx">setTimeout</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nx">reslove</span><span class="p">(</span><span class="s1">&#39;Hi Oasis&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="p">,</span><span class="mf">0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span><span class="w"></span>

<span class="c1">// æ— è¾“å‡ºï¼Œå› ä¸º reslove ä¸æ˜¯å¼‚æ­¥ï¼Œå¯¼è‡´thenæ–¹æ³•è¿˜æœªæ‰§è¡Œï¼Œæ‰€ä»¥ handlers ä¸ºç©ºæ•°ç»„</span><span class="w"></span>
<span class="ow">new</span><span class="w"> </span><span class="nx">OasisPromise</span><span class="p">((</span><span class="nx">reslove</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// setTimeout(() =&gt; {</span><span class="w"></span>
<span class="w">        </span><span class="nx">reslove</span><span class="p">(</span><span class="s1">&#39;Hi Oasis&#39;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="c1">// } ,0)</span><span class="w"></span>
<span class="p">}).</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span><span class="w"></span>

<span class="c1">// reslove åœ¨è¿™é‡Œæ˜¯å¼‚æ­¥çš„</span><span class="w"></span>
<span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">((</span><span class="nx">reslove</span><span class="p">,</span><span class="w"> </span><span class="nx">reject</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">reslove</span><span class="p">(</span><span class="s1">&#39;Hi Oasis&#39;</span><span class="p">))</span><span class="w"></span>
<span class="w">    </span><span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span><span class="w"></span>
</code></pre></div>
<p>å¯ä»¥çœ‹å‡ºï¼Œpromise çš„æ–¹å¼è¿˜æ˜¯è¦å†™å¾ˆå¤šæ¨¡æ¿ä»£ç ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ async await æ¥å®ŒæˆåŒæ ·çš„æ•ˆæœã€‚
async await åœ¨ nodejs ä¸­ä¼šç¼–è¯‘ä¸º promise çš„å½¢å¼ï¼Œæ‰€ä»¥ async å’Œ await è¦é…å¯¹ï¼Œå¦åˆ™åœ¨ç¿»è¯‘çš„æ—¶å€™æ‰¾ä¸åˆ° then çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>ä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œå¯è®¿é—®å¦‚ä¸‹é“¾æ¥ï¼š
<a href="https://babeljs.io/repl/#?browsers=ie%2011&amp;build=&amp;builtIns=false&amp;corejs=false&amp;spec=false&amp;loose=false&amp;code_lz=MYewdgzgLgBNCGUAK8CWAnGBeG8IE8xgYAKAM1QBsBTMeAW2oEpsA-GAbwCgYZRJYCKBGy4A7mlhjUYACYgxAOiEBBAkXJVaDZjxjpqUAK7ownGBRp1GAGjhREIgL5cXQA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;timeTravel=false&amp;sourceType=module&amp;lineWrap=true&amp;presets=env%2Cstage-2&amp;prettier=false&amp;targets=&amp;version=7.20.6&amp;externalPlugins=&amp;assumptions=%7B%7D">babel online</a></p>
<p>é™„åŠ å†…å®¹ï¼šä¸‹é¢ä»£ç çš„ AST æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿå¯ä»¥é€šè¿‡ https://astexplorer.net/ æ¥è§‚å¯Ÿ</p>
        </article>
        
    </body>
</html>
