<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Http Multipart ä»‹ç»</title>
        <link rel="stylesheet" href="../assets/fonts.css">
        <link rel="stylesheet" href="../assets/graphite.css">
        <link rel="stylesheet" href="../assets/pygments.css">
        
        
    </head>
    <body class="node-articles--http-multipart node-articles- node-articles node">
        <header class="masthead">
            <h1><a href="../index.html">Oasis's Cloud</a></h1>
            
                <p class="tagline">â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµâ˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµï¸â˜ï¸ğŸŒµâ˜ï¸ğŸŒµ</p>
            
            
            <nav class="menu">
                <input id="menu-check" type="checkbox"/>
                <label id="menu-label" for="menu-check" class="unselectable">
                    <span class="icon close-icon">âœ•</span>
                    <span class="icon open-icon">â˜°</span>
                    <span class="text">Menu</span>
                </label>
                <ul>
<li><a href="../index.html">é¦–é¡µ</a></li>
</ul>
            </nav>
        </header>
        <article class="main">
            <header class="title">
                <h1>Http Multipart ä»‹ç»</h1>
                
                <hr>
            </header>
            <blockquote>
<p>åŸæ–‡åœ°å€ï¼šhttps://blog.adamchalmers.com/multipart/</p>
</blockquote>
<ul>
<li>ä¸ºä»€ä¹ˆä½¿ç”¨ multipart</li>
<li>multipart æ˜¯ä»€ä¹ˆ</li>
<li>æ€ä¹ˆå®ç° multipart</li>
<li>å‹ç¼©</li>
</ul>
<h2>ä¸ºä»€ä¹ˆä½¿ç”¨ multipart</h2>
<ul>
<li>æ”¯æŒå¤šéƒ¨åˆ†æ•°æ®ï¼šMultipart å…è®¸å°†å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„è¯·æ±‚æˆ–å“åº”ã€‚ä¾‹å¦‚ï¼šåœ¨å‘é€ç”µå­é‚®ä»¶æ—¶ï¼Œå¯ä»¥å°†æ–‡æœ¬æ¶ˆæ¯ã€é™„ä»¶ã€å›¾åƒä¸€èµ·åŒ…å«åœ¨ä¸€ä¸ª multipart æ¶ˆæ¯ä¸­ã€‚</li>
<li>ä¿ç•™æ•°æ®ç»“æ„ï¼šMultipart é€šè¿‡ä½¿ç”¨è¾¹ç•Œåˆ†éš”ç¬¦å°†ä¸åŒéƒ¨åˆ†çš„æ•°æ®åŒºåˆ†å¼€ï¼Œä¿ç•™äº†æ•°æ®çš„ç»“æ„ã€‚æ¥æ”¶æ–¹å¯ä»¥è½»æ¾è§£æå’Œå¤„ç†æ¯éƒ¨åˆ†æ•°æ®</li>
<li>æ”¯æŒå¤šç§åª’ä½“ç±»å‹ï¼Œå³æ”¯æŒå¤šç§ MIME type</li>
</ul>
<h2>multipart æ˜¯ä»€ä¹ˆ</h2>
<p>MIME ç±»å‹åˆå«åšåª’ä½“ç±»å‹ï¼Œç”¨äºæŒ‡ç¤ºæ–‡æ¡£ã€æ–‡ä»¶æˆ–å­—èŠ‚åˆ†ç±»çš„æ€§è´¨å’Œæ ¼å¼ã€‚å¯ä»¥åœ¨ https://datatracker.ietf.org/doc/html/rfc6838 æ‰¾åˆ°å®ƒçš„å®šä¹‰ã€‚</p>
<p>MIME ç±»å‹é€šå¸¸ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼šç±»å‹å’Œå­ç±»å‹ã€‚
<code>type/subtype</code>
ä¾‹å¦‚ï¼š
<div class="highlight"><pre><span></span><code>text/plain
text/html
text/javascript
</code></pre></div></p>
<p>MIME ç±»å‹åˆ†ä¸ºä¸¤ç±»ï¼š
- ç¦»æ•£ç±»å‹ï¼ˆDiscrete typeï¼‰
- Multipart</p>
<p>ç¦»æ•£ç±»å‹æ ‡è¯†ä¸€ä¸ªæ–‡ä»¶æˆ–åª’ä½“çš„ç±»å‹ã€‚multipart æ ‡è¯†ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆçš„æ–‡æ¡£ã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰è‡ªå·±çš„ MIMEã€‚</p>
<p>Multipart ç±»å‹åˆ†ä¸ºä¸¤ç§ï¼š
- message
- multipart</p>
<h2>Multipart æ€ä¹ˆå®ç°</h2>
<p>å¦‚æœ <code>Content-Type</code> æ˜¯ <code>multipart/form-data</code> åˆ™ HTTP æ­£æ–‡åŒ…å« Multipartã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰è¾¹ç•Œé™å®šç¬¦åˆ†éš”ã€‚HTTP æ¶ˆæ¯æœ‰ä¸€ä¸ªæ ‡å¤´ï¼Œå®ƒå®šä¹‰äº†è¾¹ç•Œé™å®šç¬¦ï¼Œè¿™æ ·æœåŠ¡å™¨å°±èƒ½çŸ¥é“æ¯ä¸ªéƒ¨åˆ†ä¹‹é—´çš„è¾¹ç•Œåœ¨å“ªé‡Œã€‚æ¯ä¸ªéƒ¨åˆ†ä¹Ÿæœ‰è‡ªå·±çš„ header ï¼š</p>
<p><code>Content-Disposition</code>: å®šä¹‰æ–‡ä»¶åæˆ–è¡¨å•å­—æ®µå</p>
<p><code>Content-Type</code>: æ¯ä¸ª part çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯ <code>text/plain</code></p>
<p>è¯·æ±‚ Demoï¼š</p>
<div class="highlight"><pre><span></span><code>POST /cgi-bin/qtest HTTP/1.1
Content-Type: multipart/form-data; boundary=2a8ae6ad-f4ad-4d9a-a92c-6d217011fe0f
Content-Length: 514

--2a8ae6ad-f4ad-4d9a-a92c-6d217011fe0f
Content-Disposition: form-data; name=&quot;datafile1&quot;; filename=&quot;r.gif&quot;
Content-Type: image/gif

GIF87a.............,...........D..;
--2a8ae6ad-f4ad-4d9a-a92c-6d217011fe0f
Content-Disposition: form-data; name=&quot;datafile2&quot;; filename=&quot;g.gif&quot;
Content-Type: image/gif

GIF87a.............,...........D..;
--2a8ae6ad-f4ad-4d9a-a92c-6d217011fe0f
Content-Disposition: form-data; name=&quot;datafile3&quot;; filename=&quot;b.gif&quot;
Content-Type: image/gif

GIF87a.............,...........D..;
--2a8ae6ad-f4ad-4d9a-a92c-6d217011fe0f--
</code></pre></div>
<h2>å‹ç¼©</h2>
<p>multipart å¯ä»¥ä½¿ç”¨ gzip è¿›è¡Œæ¶ˆæ¯ä½“çš„æ•´ä½“å‹ç¼©ã€‚ä¸èƒ½å•ç‹¬å¯¹å„ä¸ª part è¿›è¡Œå‹ç¼©ã€‚</p>
        </article>
        
    </body>
</html>
