---
title: "构造数据抽象"
---

数据抽象可以提升我们在设计程序时所位于的概念层次，提高设计的模块性，增强语言的表达能力。数据抽象相关的方法学是指：在程序中处理数据对象的表示的部分，与处理数据对象的使用的部分互相隔离。这也体现了解耦的思想。解耦思想在程序设计方面具有一般性和普适性。

在构造数据抽象这章中，表达了数据抽象的基本思想：设法构造出一些使用复合数据对象的程序，使它们就像在“抽象数据”上操作一样。基于这样的思想，作者提出了选择函数和构造函数的概念。构造函数用来将简单数据复合成抽象数据，选择函数用来对复合数据进行拆解。

在进行构造函数和选择函数实现的阶段，作者提出了一种按愿望思维的编程方法。按愿望思维顾名思义就是按照我们的想法来实现程序。例如我们要实现一个程序：将文件中的“demo”字符串替换为“Demo”。从按愿望思维的方法来说，我们可以这样实现程序：

- 读取文件
- 逐行扫描
- 匹配并替换 demo

```js
function readFile() {}
function scanLine() {}
function replace() {}
```

通过按愿望思维，可以很自然的将程序进行模块化。

在对数据进行抽象后，很自然的产生了抽象屏障。因为不同的数据抽象伴随着一组相对应地操作。

理解了数据抽象的基本思想后，还需要思考数据意味着什么。这是一个深刻的问题。说数据是“由给定的构造函数和选择函数所实现的东西”显然不够。因为并不是任意的构造函数和选择函数都适合作为某一抽象数据的实现的基础。构造函数和选择函数要满足一组特定的条件，才能作为某一抽象数据的实现的基础。

由构造函数、选择函数表示的数据带来了一种设计风格：消息传递（流）。

除了可以表达简单的数据外，我们还需要构建具有层次结构的数据。具有层次结构的数据一般带有闭包的性质。闭包性质是指：通过某一个过程组合起数据对象的到的结果本身还可以通过同样的过程再进行组合。

在这章中主要介绍的数据处理的技巧：列表作为通用的界面、抽象数据的多重表示、数据导向的程序设计、设计通用型操作的系统。